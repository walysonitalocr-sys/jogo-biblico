<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo B√≠blico de √çtalo Rocha</title>
<style>
body{margin:0;font-family:sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;transition:background 0.5s;overflow:hidden}
.app{background:rgba(0,0,0,0.05);border-radius:16px;padding:20px;max-width:800px;width:100%;box-shadow:0 8px 30px rgba(0,0,0,0.4);text-align:center;color:#fff;transition:all 0.5s;position:relative;z-index:1}
h1{margin-bottom:10px}
button{padding:12px 18px;margin:6px;border-radius:10px;border:none;font-weight:600;cursor:pointer;transition:all 0.3s ease;font-size:1rem}
button:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,0.2)}
.btn-option{background:#fff;color:#0b1726;width:100%;text-align:left;margin:6px 0;transition:all 0.3s ease;position:relative;overflow:hidden}
.btn-option.correct{background:#16a34a;color:#fff;animation:correctAnim 0.5s}
.btn-option.wrong{background:#ef4444;color:#fff;animation:wrongAnim 0.5s}
@keyframes correctAnim{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}
@keyframes wrongAnim{0%{transform:scale(1)}50%{transform:scale(1.1) rotate(-5deg)}100%{transform:scale(1)}}
.progress{height:14px;background:rgba(255,255,255,0.2);border-radius:10px;overflow:hidden;margin:10px 0}
.progress-bar{height:100%;width:0%;background:#ffb703;transition:width 0.4s}
.vidas{font-size:1.5rem;margin:8px 0}
.score{font-size:1.5rem;margin:5px}
.fadeIn{animation:fadeIn 0.6s}
@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}
.confetti-piece{width:10px;height:10px;position:absolute;top:0;animation:fall 2s linear forwards;border-radius:50%}
@keyframes fall{0%{transform:translateY(0) rotate(0deg)}100%{transform:translateY(500px) rotate(360deg)}}
.firework{position:absolute;width:5px;height:5px;border-radius:50%;pointer-events:none;z-index:10}
</style>
</head>
<body>
<div class="app" id="app">
<h1>Jogo B√≠blico de √çtalo Rocha</h1>
<div id="gameArea">
<button class="btn-option" onclick="startPhase()">Iniciar Jogo</button>
</div>
<audio id="acerto" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="erro" src="https://actions.google.com/sounds/v1/cartoon/boing.ogg"></audio>
</div>

<script>
// cores por fase
const phaseColors = ["#0b4f8a","#16a34a","#f97316","#7c3aed"];

const levels = [
  {id:'estudante', title:'Estudante', end:'Parab√©ns! Voc√™ completou a fase Estudante.', msg:'Continue se esfor√ßando!'},
  {id:'publicador', title:'Publicador', end:'√ìtimo! Voc√™ completou a fase Publicador.', msg:'A f√© est√° crescendo!'},
  {id:'pioneiro', title:'Pioneiro', end:'Excelente! Voc√™ completou a fase Pioneiro.', msg:'Voc√™ est√° indo muito bem!'},
  {id:'superintendente', title:'Superintendente', end:'Parab√©ns! Voc√™ concluiu todas as fases do Jogo B√≠blico.', msg:'Uma verdadeira b√™n√ß√£o de conhecimento!'}
];

// perguntas
const questions = { /* use as perguntas da vers√£o anterior */ };

// vari√°veis
let currentLevelIndex=0, currentQuestionIndex=0, score=0, lives=3;

function setBackground(){
  document.body.style.background = `linear-gradient(135deg, ${phaseColors[currentLevelIndex]}, #2ea1ff)`;
}

function renderLives(){return '‚ù§Ô∏è'.repeat(lives)+'ü§ç'.repeat(3-lives);}

function startPhase(){
  setBackground();
  const level=levels[currentLevelIndex];
  const gameArea=document.getElementById('gameArea');
  gameArea.innerHTML=`<h2>Fase ${currentLevelIndex+1}: ${level.title}</h2>
  <p>Prepare-se para responder 10 perguntas!</p>
  <button class="btn-option fadeIn" onclick="startQuestions()">Iniciar Perguntas</button>`;
}

function startQuestions(){
  currentQuestionIndex=0; score=0; lives=3;
  renderQuestion();
}

function renderQuestion(){
  setBackground();
  const gameArea=document.getElementById('gameArea');
  const level=levels[currentLevelIndex];
  const qList=questions[level.id];

  if(lives<=0){
    gameArea.innerHTML=`<h2>Voc√™ perdeu!</h2><p>Pontua√ß√£o final: ${score}</p>
    <button class="btn-option fadeIn" onclick="currentLevelIndex=0;startPhase()">Reiniciar Jogo</button>`;
    return;
  }

  if(currentQuestionIndex>=qList.length){
    animateScore(score);
    gameArea.innerHTML=`<h2>${level.end}</h2><p id="finalScore">Pontua√ß√£o da fase: 0</p><p>${level.msg}</p>
    <button class="btn-option fadeIn" onclick="nextPhase()">Pr√≥xima Fase</button>`;
    confetti(); fireworks();
    return;
  }

  const qObj=qList[currentQuestionIndex];
  gameArea.innerHTML=`<p class="vidas">Vidas: ${renderLives()}</p>
    <div class="progress"><div class="progress-bar" style="width:${(currentQuestionIndex/qList.length)*100}%"></div></div>
    <h3>Pergunta ${currentQuestionIndex+1}: ${qObj.q}</h3>`;
  qObj.opts.forEach((opt,idx)=>{
    const btn=document.createElement('button');
    btn.className='btn-option fadeIn';
    btn.textContent=opt;
    btn.onclick=()=>selectAnswer(idx);
    gameArea.appendChild(btn);
  });
}

function selectAnswer(idx){
  const level=levels[currentLevelIndex];
  const qList=questions[level.id];
  const qObj=qList[currentQuestionIndex];
  const buttons=document.querySelectorAll('.btn-option');
  const audioCorrect=document.getElementById('acerto');
  const audioWrong=document.getElementById('erro');

  if(idx===qObj.a){
    buttons[idx].classList.add('correct');
    score+=10;
    audioCorrect.play();
  } else {
    buttons[idx].classList.add('wrong');
    buttons[qObj.a].classList.add('correct');
    lives--;
    audioWrong.play();
  }

  currentQuestionIndex++;
  setTimeout(renderQuestion,800);
}

function nextPhase(){
  currentLevelIndex++;
  if(currentLevelIndex>=levels.length){
    animateScore(score);
    document.getElementById('gameArea').innerHTML=`<h2>Parab√©ns! Voc√™ completou todas as fases!</h2>
    <p id="finalScore">Pontua√ß√£o final: 0</p>
    <button class="btn-option fadeIn" onclick="currentLevelIndex=0;startPhase()">Reiniciar Jogo</button>`;
    confetti(); fireworks();
    return;
  }
  startPhase();
}

// confete simples
function confetti(){
  for(let i=0;i<50;i++){
    const c=document.createElement('div');
    c.className='confetti-piece';
    c.style.background=`hsl(${Math.random()*360},70%,60%)`;
    c.style.left=Math.random()*window.innerWidth+'px';
    c.style.animationDuration=1+Math.random()*2+'s';
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3000);
  }
}

// fogos de artif√≠cio simples
function fireworks(){
  for(let i=0;i<30;i++){
    const f=document.createElement('div');
    f.className='firework';
    f.style.background=`hsl(${Math.random()*360},80%,60%)`;
    f.style.left=Math.random()*window.innerWidth+'px';
    f.style.top=Math.random()*window.innerHeight/2+'px';
    document.body.appendChild(f);
    const dur = 1 + Math.random()*1.5;
    f.animate([{transform:'scale(0)'},{transform:'scale(1)'}],{duration:dur*500,fill:'forwards'});
    setTimeout(()=>f.remove(),3000);
  }
}

// anima√ß√£o de contagem da pontua√ß√£o
function animateScore(final){
  let display = document.getElementById("finalScore");
  if(!display) return;
  let current=0;
  let interval = setInterval(()=>{
    if(current>=final){clearInterval(interval); return;}
    current++;
    display.textContent = `Pontua√ß√£o da fase: ${current}`;
  },50);
}

// inicializa
startPhase();
</script>
</body>
</html>
