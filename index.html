<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo B√≠blico ‚Äì √çtalo Rocha</title>
<style>
:root{
  --cor1:#0b4f8a; --cor2:#16a34a; --cor3:#f97316; --cor4:#7c3aed;
  --bg:var(--cor1); --text:#fff; --err:#ef4444; --ok:#16a34a;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif}
body{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,var(--bg),#2ea1ff);color:var(--text);transition:background .5s;overflow:hidden}
.app{width:90%;max-width:700px;background:rgba(0,0,0,.15);border-radius:16px;padding:25px;box-shadow:0 8px 30px rgba(0,0,0,.4);text-align:center}
h1{margin-bottom:10px;font-size:1.8rem}
button{padding:12px 18px;margin:6px;border:none;border-radius:10px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s ease}
button:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.25)}
.btn-option{background:#fff;color:#0b1726;width:100%;text-align:left}
.btn-option.correct{background:var(--ok);color:#fff;animation:pulse .5s}
.btn-option.wrong{background:var(--err);color:#fff;animation:shake .5s}
@keyframes pulse{50%{transform:scale(1.05)}}
@keyframes shake{25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}
.progress{height:14px;background:rgba(255,255,255,.2);border-radius:10px;overflow:hidden;margin:10px 0}
.progress-bar{height:100%;width:0%;background:#ffb703;transition:width .4s}
.vidas{font-size:1.5rem;margin:8px 0}
.score{font-size:1.5rem;margin:5px}
.explanation{background:rgba(0,0,0,0.2);padding:5px;margin:5px;border-radius:6px;font-size:0.95rem;text-align:left}
.confetti{position:absolute;width:10px;height:10px;background:hsl(var(--hue),70%,60%);top:-20px;animation:fall 2s linear forwards;border-radius:50%}
@keyframes fall{to{transform:translateY(110vh)}}
.firework{position:absolute;width:6px;height:6px;border-radius:50%;pointer-events:none;z-index:10;animation:boom 1s forwards}
@keyframes boom{0%{transform:scale(0)}100%{transform:scale(25);opacity:0}}
.hidden{display:none}
</style>
</head>
<body>
<div class="app" id="app">
  <h1>Jogo B√≠blico de √çtalo Rocha</h1>
  <div id="gameArea"></div>
  <audio id="acerto" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" preload="auto"></audio>
  <audio id="erro"   src="https://actions.google.com/sounds/v1/cartoon/boing.ogg" preload="auto"></audio>
</div>

<script>
/* ----------  DADOS  ---------- */
const levels=[
  {id:'estudante',title:'Estudante'},
  {id:'publicador',title:'Publicador'},
  {id:'pioneiro',title:'Pioneiro'},
  {id:'superintendente',title:'Superintendente'}
];
const colors=['#0b4f8a','#16a34a','#f97316','#7c3aed'];

const questions={
  estudante:[
    {q:"Quem foi obediente a Jeov√° e construiu a arca para salvar sua fam√≠lia e os animais do dil√∫vio?",opts:["Mois√©s","Abra√£o","No√©","Elias"],a:2,desc:"No√© foi obediente a Jeov√° e construiu a arca conforme a instru√ß√£o de Deus.",ref:"G√™nesis 6:14-22 (TNM)"},
    {q:"Qual foi o sinal que Deus deu prometendo que nunca mais destruiria toda a terra com um dil√∫vio?",opts:["Estrela","Arco-√≠ris","Pomba","Montanha"],a:1,desc:"Jeov√° colocou o arco-√≠ris como sinal de que nunca mais causaria um dil√∫vio que destru√≠sse toda a terra.",ref:"G√™nesis 9:12-17 (TNM)"},
    {q:"Quem recebeu de Jeov√° as t√°buas com os Dez Mandamentos no monte Sinai?",opts:["Mois√©s","Ar√£o","Elias","Josu√©"],a:0,desc:"Mois√©s recebeu as t√°buas com os Dez Mandamentos de Jeov√° no monte Sinai.",ref:"√äxodo 31:18 (TNM)"},
    {q:"Quem foi o primeiro homem criado por Jeov√°?",opts:["Ad√£o","Sete","Caim","Abel"],a:0,desc:"Ad√£o foi criado por Jeov√° como o primeiro homem.",ref:"G√™nesis 2:7 (TNM)"},
    {q:"Quem foi vendido por seus irm√£os e depois se tornou um l√≠der no Egito?",opts:["Jos√©","Bala√£o","Efraim","No√©"],a:0,desc:"Jos√© foi vendido pelos irm√£os, mas Jeov√° o elevou a governador do Egito.",ref:"G√™nesis 37-41 (TNM)"},
    {q:"Quem enfrentou o gigante Golias e venceu com f√© em Jeov√°?",opts:["Davi","Sans√£o","Saul","Neemias"],a:0,desc:"Davi venceu Golias confiando em Jeov√°.",ref:"1 Samuel 17:45-50 (TNM)"},
    {q:"Qual profeta foi engolido por um grande peixe por fugir da ordem de Jeov√°?",opts:["Jonas","Am√≥s","Os√©ias","Joel"],a:0,desc:"Jonas foi engolido por um grande peixe enquanto fugia de Jeov√°.",ref:"Jonas 1:17 (TNM)"},
    {q:"Qual rei pediu a Jeov√° sabedoria para governar Israel com justi√ßa?",opts:["Saul","Salom√£o","Davi","Ezequias"],a:1,desc:"Salom√£o pediu sabedoria a Jeov√° e governou Israel com justi√ßa.",ref:"1 Reis 3:9-12 (TNM)"},
    {q:"Qual livro cont√©m muitos c√¢nticos e ora√ß√µes, conhecidos como salmos?",opts:["Prov√©rbios","Salmos","Lamenta√ß√µes","Ester"],a:1,desc:"O livro de Salmos cont√©m hinos e ora√ß√µes inspiradas por Jeov√°.",ref:"Salmos 1:1-2 (TNM)"},
    {q:"Quem demonstrou grande f√© ao construir um altar para Jeov√° em obedi√™ncia?",opts:["Abra√£o","Caim","Davi","Samuel"],a:0,desc:"Abra√£o demonstrou f√© ao construir o altar conforme a instru√ß√£o de Jeov√°.",ref:"G√™nesis 12:7-8 (TNM)"}
  ],
  publicador:[
    {q:"Quem desafiou os profetas de Baal e provou que Jeov√° √© o Deus verdadeiro?",opts:["Elias","Eliseu","Isa√≠as","Jeremias"],a:0,desc:"Elias provou que Jeov√° √© o verdadeiro Deus diante dos profetas de Baal.",ref:"1 Reis 18:20-39 (TNM)"},
    {q:"Qual her√≥i perdeu sua for√ßa quando o cabelo foi cortado?",opts:["Sans√£o","Davi","Saul","Elias"],a:0,desc:"Sans√£o perdeu a for√ßa quando seu cabelo foi cortado, contrariando a alian√ßa com Jeov√°.",ref:"Ju√≠zes 16:19 (TNM)"},
    {q:"Qual profeta teve a vis√£o de ossos secos representando a restaura√ß√£o de Israel?",opts:["Ezequiel","Isa√≠as","Am√≥s","Malaquias"],a:0,desc:"Ezequiel viu ossos secos, simbolizando a restaura√ß√£o do povo de Jeov√°.",ref:"Ezequiel 37:1-14 (TNM)"},
    {q:"Quem interpretou os sonhos do fara√≥, ajudando o Egito a se preparar para fome?",opts:["Mois√©s","Jos√©","Daniel","Josu√©"],a:1,desc:"Jos√© interpretou os sonhos do fara√≥ e salvou o Egito da fome.",ref:"G√™nesis 41:14-36 (TNM)"},
    {q:"Qual cidade foi destru√≠da por Jeov√°, sendo poupada apenas a fam√≠lia de L√≥?",opts:["Jeric√≥","N√≠nive","Babil√¥nia","Sodoma"],a:3,desc:"Jeov√° destruiu Sodoma, mas poupou a fam√≠lia de L√≥.",ref:"G√™nesis 19:1-29 (TNM)"},
    {q:"Quem foi ungido rei ap√≥s Saul e consolidou o reino de Israel?",opts:["Davi","Salom√£o","Elias","J√¥natas"],a:0,desc:"Davi foi ungido rei por Jeov√° e consolidou o reino.",ref:"1 Samuel 16:1-13 (TNM)"},
    {q:"Quem, filho de Davi, escreveu muitos prov√©rbios e se destacou pela sabedoria?",opts:["Salom√£o","Ezequias","Josias","Matusal√©m"],a:0,desc:"Salom√£o, filho de Davi, foi famoso por sua sabedoria e prov√©rbios.",ref:"Prov√©rbios 1:1 (TNM)"},
    {q:"Qual ap√≥stolo escreveu cartas importantes dirigidas √† congrega√ß√£o crist√£?",opts:["Jo√£o","Pedro","Paulo","Tiago"],a:2,desc:"Paulo escreveu cartas para v√°rias congrega√ß√µes crist√£s.",ref:"1 Tessalonicenses 1:1 (TNM)"},
    {q:"Qual foi o primeiro milagre p√∫blico de Jesus registrado?",opts:["Multiplica√ß√£o de p√£es","Cura de cego","Transformar √°gua em vinho","Caminhar sobre √°guas"],a:2,desc:"Jesus transformou √°gua em vinho como seu primeiro milagre p√∫blico.",ref:"Jo√£o 2:1-11 (TNM)"},
    {q:"Quem foi tra√≠do por um beijo e preso antes de sua morte?",opts:["Jesus","Jo√£o","Pedro","Paulo"],a:0,desc:"Jesus foi tra√≠do por Judas e preso antes de sua morte.",ref:"Mateus 26:47-50 (TNM)"}
  ],
  pioneiro:[
    {q:"Em qual livro s√£o descritas as 7 trombetas e 7 ta√ßas da ira de Deus?",opts:["Daniel","Apocalipse","Ezequiel","Isa√≠as"],a:1,desc:"O livro de Apocalipse descreve as 7 trombetas e 7 ta√ßas da ira de Deus.",ref:"Apocalipse 8-16 (TNM)"},
    {q:"Qual profeta teve vis√£o do trono de Deus e de seres viventes no c√©u?",opts:["Daniel","Ezequiel","Jeremias","Isa√≠as"],a:1,desc:"Ezequiel teve vis√£o do trono de Jeov√° e dos seres viventes.",ref:"Ezequiel 1:1-28 (TNM)"},
    {q:"Qual l√≠der liderou a reconstru√ß√£o de Jerusal√©m ap√≥s o ex√≠lio babil√¥nico?",opts:["Neemias","Esdras","Josu√©","Gide√£o"],a:0,desc:"Neemias liderou a reconstru√ß√£o dos muros de Jerusal√©m confiando em Jeov√°.",ref:"Neemias 2:1-20 (TNM)"},
    {q:"Qual profeta foi levado ao c√©u em um redemoinho de fogo?",opts:["Elias","Eliseu","Isa√≠as","Ezequiel"],a:0,desc:"Elias foi levado ao c√©u por Jeov√° em um redemoinho de fogo.",ref:"2 Reis 2:11 (TNM)"},
    {q:"Quem escreveu aproximadamente 13 cartas do Novo Testamento?",opts:["Jo√£o","Paulo","Pedro","Tiago"],a:1,desc:"Paulo escreveu cerca de 13 cartas √†s congrega√ß√µes crist√£s.",ref:"Romanos 1:1 (TNM)"},
    {q:"Qual festa judaica relembra a liberta√ß√£o do Egito?",opts:["P√°scoa","Pentecostes","Rosh Hashan√°","Yom Kippur"],a:0,desc:"A P√°scoa relembra como Jeov√° libertou Israel do Egito.",ref:"√äxodo 12:1-30 (TNM)"},
    {q:"Quem interpretou a escrita na parede durante o reinado de Belsazar?",opts:["Daniel","Ezequiel","Jeremias","Mois√©s"],a:0,desc:"Daniel interpretou a escrita na parede, revelando a mensagem de Jeov√°.",ref:"Daniel 5:17-31 (TNM)"},
    {q:"Qual livro fala sobre o 'servo sofredor' que cumpriu a vontade de Jeov√°?",opts:["Isa√≠as","Am√≥s","Joel","Jonas"],a:0,desc:"Isa√≠as fala do servo sofredor que cumpre a vontade de Jeov√°.",ref:"Isa√≠as 53:1-12 (TNM)"},
    {q:"Em que cidade Paulo foi preso e apelou ao imperador?",opts:["Roma","Cesareia","Filipos","Corinto"],a:1,desc:"Paulo foi preso em Cesareia e apelou ao imperador para ser julgado.",ref:"Atos 25:1-12 (TNM)"},
    {q:"Quem presidiu o julgamento de Jesus antes de sua morte?",opts:["Herodes","Pilatos","Cai√°fas","P√¥ncio"],a:1,desc:"Pilatos presidiu o julgamento de Jesus antes de sua morte.",ref:"Jo√£o 18:28-40 (TNM)"}
  ],
  superintendente:[
    {q:"Na profecia das 70 semanas, de que livro se fala?",opts:["Ezequiel","Daniel","Isa√≠as","Jeremias"],a:1,desc:"A profecia das 70 semanas est√° no livro de Daniel.",ref:"Daniel 9:24-27 (TNM)"},
    {q:"Qual termo descreve a morte substitutiva de Cristo pelos pecados da humanidade?",opts:["Reden√ß√£o","Expia√ß√£o","Justifica√ß√£o","Santifica√ß√£o"],a:1,desc:"A expia√ß√£o de Cristo paga pelos pecados da humanidade.",ref:"1 Jo√£o 2:2 (TNM)"},
    {q:"Qual par√¢metro cronol√≥gico √© debatido nas profecias b√≠blicas?",opts:["Anos-luz","Per√≠odos prof√©ticos","S√©culos","Dias solares"],a:1,desc:"Per√≠odos prof√©ticos s√£o usados para calcular eventos prof√©ticos.",ref:"Daniel 9:24-27 (TNM)"},
    {q:"Quem foi chamado de 'ap√≥stolo dos gentios'?",opts:["Pedro","Jo√£o","Paulo","Barnab√©"],a:2,desc:"Paulo foi chamado de ap√≥stolo dos gentios.",ref:"Romanos 11:13 (TNM)"},
    {q:"Qual carta trata da justifica√ß√£o pela f√©?",opts:["G√°latas","Romanos","Hebreus","Filipenses"],a:1,desc:"A carta aos Romanos fala sobre justifica√ß√£o pela f√©.",ref:"Romanos 3:28 (TNM)"},
    {q:"Que evento marca o in√≠cio do cumprimento das profecias messi√¢nicas?",opts:["Nascimento de Cristo","Batismo de Jo√£o","Entrada em Jerusal√©m","Ressurrei√ß√£o"],a:0,desc:"O nascimento de Cristo inicia o cumprimento das profecias messi√¢nicas.",ref:"Mateus 1:18-25 (TNM)"},
    {q:"Qual profeta menor enfatiza a justi√ßa social e obedi√™ncia a Jeov√°?",opts:["Am√≥s","Habacuque","Sofonias","Obadias"],a:0,desc:"Am√≥s enfatiza a justi√ßa social e a obedi√™ncia a Jeov√°.",ref:"Am√≥s 5:14-15 (TNM)"},
    {q:"Quem escreveu o livro do Apocalipse na ilha de Patmos?",opts:["Pedro","Jo√£o","Paulo","Lucas"],a:1,desc:"Jo√£o escreveu o Apocalipse na ilha de Patmos sob inspira√ß√£o de Jeov√°.",ref:"Apocalipse 1:1-2 (TNM)"},
    {q:"Qual livro do Antigo Testamento cont√©m muitos salmos?",opts:["Salmos","Prov√©rbios","Eclesiastes","Isa√≠as"],a:0,desc:"O livro de Salmos cont√©m c√¢nticos e ora√ß√µes inspiradas por Jeov√°.",ref:"Salmos 1:1-2 (TNM)"},
    {q:"Quem foi lan√ßado na cova dos le√µes por orar a Jeov√°?",opts:["Daniel","Elias","Jos√©","Paulo"],a:0,desc:"Daniel orou a Jeov√° e foi lan√ßado na cova dos le√µes.",ref:"Daniel 6:16-23 (TNM)"}
  ]
};

/* ----------  ESTADO  ---------- */
let levelIdx=0, qIdx=0, score=0, lives=3, helpUsed=false, erros=[];
let soundOn=true;
const record=()=>+(localStorage.getItem('biblia-record')||0);
const setRecord=r=>localStorage.setItem('biblia-record',r);

/* ----------  UTILS  ---------- */
const qs=s=>document.querySelector(s);
const ce=(t,s='')=>{const e=document.createElement(t);e.innerHTML=s;return e};
const rand=(a,b)=>Math.floor(Math.random()*(b-a+1))+a;
const play=a=>soundOn&&a.play();

/* ----------  TELAS  ---------- */
function goHome(){
  const ga=qs('#gameArea');
  ga.innerHTML=`
    <p>Recorde: <b>${record()}</b></p>
    <button class="btn-option" onclick="startPhase()">Iniciar Jogo</button>
    <button class="btn-option" onclick="showSettings()">Configura√ß√µes</button>`;
}

function showSettings(){
  const ga=qs('#gameArea');
  ga.innerHTML=`
    <h3>Configura√ß√µes</h3>
    <label><input type="checkbox" id="sound" ${soundOn?'checked':''}> Som</label><br>
    <button class="btn-option" onclick="soundOn=qs('#sound').checked;goHome()">Voltar</button>
    <button class="btn-option" onclick="if(confirm('Apagar recorde?'))setRecord(0);goHome()">Zerar Recorde</button>`;
}

/* ----------  JOGO  ---------- */
function startPhase(){
  levelIdx=0; qIdx=0; score=0; lives=3; helpUsed=false; erros=[];
  setColor(); showQuestion();
}

function setColor(){document.body.style.setProperty('--bg',colors[levelIdx]);}

function showQuestion(){
  const ga=qs('#gameArea');
  const lista=questions[levels[levelIdx].id];
  if(lives<=0){gameOver(false);return;}
  if(qIdx>=lista.length){phaseComplete();return;}

  const q=lista[qIdx];
  ga.innerHTML=`
    <h2>Fase ${levelIdx+1} - ${levels[levelIdx].title}</h2>
    <div class="vidas">${'‚ù§Ô∏è'.repeat(lives)}</div>
    <div class="progress"><div class="progress-bar" style="width:${(qIdx/lista.length)*100}%"></div></div>
    <h3>${q.q}</h3>
    <div id="opts"></div>
    ${!helpUsed?'<button id="help" class="btn-option" onclick="useHelp()">üéØ Eliminar 2 erradas (1√ó)</button>':''}
    <div class="score">Pontos: ${score}</div>`;

  const opts=qs('#opts');
  q.opts.forEach((o,i)=>{
    const b=ce('button',o); b.className='btn-option'; b.onclick=()=>answer(i);
    opts.appendChild(b);
  });
}

function answer(idx){
  const lista=questions[levels[levelIdx].id];
  const q=lista[qIdx];
  const buttons=document.querySelectorAll('.btn-option');
  const correct=idx===q.a;
  buttons[idx].classList.add(correct?'correct':'wrong');
  if(!correct) buttons[q.a].classList.add('correct');
  if(!correct) erros.push(q);
  correct?(score+=10,play(qs('#acerto'))):(lives--,play(qs('#erro')));
  qIdx++;
  setTimeout(showQuestion,800);
}

function useHelp(){
  if(helpUsed) return; helpUsed=true;
  const lista=questions[levels[levelIdx].id];
  const q=lista[qIdx];
  const buttons=document.querySelectorAll('.btn-option');
  let wrong=[0,1,2,3].filter(i=>i!==q.a);
  wrong.sort(()=>Math.random()-.5);
  buttons[wrong[0]].style.opacity='.3';
  buttons[wrong[1]].style.opacity='.3';
  qs('#help').disabled=true;
}

function phaseComplete(){
  const ga=qs('#gameArea');
  let msg=`<h2>Parab√©ns! Fase ${levelIdx+1} conclu√≠da!</h2>
  <p>Pontos: ${score}</p>`;
  if(erros.length>0){
    msg+='<h3>Explica√ß√µes das respostas incorretas:</h3>';
    erros.forEach(e=>{
      msg+=`<p class="explanation">${e.q} ‚Üí ${e.desc} <br><b>Refer√™ncia:</b> ${e.ref}</p>`;
    });
  }
  if(levelIdx<levels.length-1){
    msg+=`<button class="btn-option" onclick="nextPhase()">Pr√≥xima Fase</button>`;
  }else{
    msg+=`<button class="btn-option" onclick="goHome()">Voltar ao In√≠cio</button>`;
  }
  ga.innerHTML=msg;
}

function nextPhase(){
  levelIdx++; qIdx=0; lives=3; helpUsed=false; erros=[];
  setColor(); showQuestion();
}

function gameOver(won){
  const ga=qs('#gameArea');
  ga.innerHTML=`<h2>${won?'Voc√™ venceu todas as fases!':'Suas vidas acabaram!'}</h2>
    <p id="finalScore">Pontua√ß√£o Final: 0</p>
    <p>Recorde: <b>${Math.max(record(),score)}</b></p>
    <button class="btn-option" onclick="goHome()">Voltar ao In√≠cio</button>`;
  if(score>record())setRecord(score);
  animateScore(score); party();
}

/* ----------  EFEITOS  ---------- */
function animateScore(final){
  const el=document.getElementById('finalScore');
  if(!el)return;
  let cur=0;
  const int=setInterval(()=>{
    if(cur>=final){clearInterval(int);return;}
    cur++; el.textContent=`Pontua√ß√£o: ${cur}`;
  },30);
}
function party(){
  for(let i=0;i<60;i++){
    const c=ce('div'); c.className='confetti';
    c.style.left=rand(0,100)+'%';
    c.style.setProperty('--hue',rand(0,360));
    c.style.animationDuration=rand(15,25)/10+'s';
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2500);
  }
  for(let i=0;i<20;i++){
    const f=ce('div'); f.className='firework';
    f.style.left=rand(10,90)+'%'; f.style.top=rand(10,50)+'%';
    f.style.background=`hsl(${rand(0,360)},80%,60%)`;
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
}

/* ----------  IN√çCIO  ---------- */
goHome();
</script>
</body>
</html>
